!function(t){"function"==typeof define&&define.amd?define(["jquery","jquery.smartmenus"],t):"object"==typeof module&&"object"==typeof module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){return t.extend(t.SmartMenus.Bootstrap={},{keydownFix:!1,init:function(){var o=t("ul.navbar-nav:not([data-sm-skip])");o.each(function(){function o(){n.find("a.current").parent().addClass("active"),n.find("a.has-submenu").each(function(){var o=t(this);o.is('[data-toggle="dropdown"]')&&o.dataSM("bs-data-toggle-dropdown",!0).removeAttr("data-toggle"),o.is('[role="button"]')&&o.dataSM("bs-role-button",!0).removeAttr("role")})}function a(){n.find("a.current").parent().removeClass("active"),n.find("a.has-submenu").each(function(){var o=t(this);o.dataSM("bs-data-toggle-dropdown")&&o.attr("data-toggle","dropdown").removeDataSM("bs-data-toggle-dropdown"),o.dataSM("bs-role-button")&&o.attr("role","button").removeDataSM("bs-role-button")})}function e(t){var o=s.getViewportWidth();if(o!=r||t){var a=n.find(".caret");s.isCollapsible()?(n.addClass("sm-collapsible"),n.is("[data-sm-skip-collapsible-behavior]")||a.addClass("navbar-toggle sub-arrow")):(n.removeClass("sm-collapsible"),n.is("[data-sm-skip-collapsible-behavior]")||a.removeClass("navbar-toggle sub-arrow")),r=o}}var n=t(this),s=n.data("smartmenus");if(!s){n.smartmenus({subMenusSubOffsetX:2,subMenusSubOffsetY:-6,subIndicators:!1,collapsibleShowFunction:null,collapsibleHideFunction:null,rightToLeftSubMenus:n.hasClass("navbar-right"),bottomToTopSubMenus:n.closest(".navbar").hasClass("navbar-fixed-bottom")}).bind({"show.smapi":function(o,a){var e=t(a),n=e.dataSM("scroll-arrows");n&&n.css("background-color",t(document.body).css("background-color")),e.parent().addClass("open")},"hide.smapi":function(o,a){t(a).parent().removeClass("open")}}),o(),s=n.data("smartmenus"),s.isCollapsible=function(){return!/^(left|right)$/.test(this.$firstLink.parent().css("float"))},s.refresh=function(){t.SmartMenus.prototype.refresh.call(this),o(),e(!0)},s.destroy=function(o){a(),t.SmartMenus.prototype.destroy.call(this,o)},n.is("[data-sm-skip-collapsible-behavior]")&&n.bind({"click.smapi":function(o,a){if(s.isCollapsible()){var e=t(a),n=e.parent().dataSM("sub");if(n&&n.dataSM("shown-before")&&n.is(":visible"))return s.itemActivate(e),s.menuHide(n),!1}}});var r;e(),t(window).bind("resize.smartmenus"+s.rootId,e)}}),o.length&&!t.SmartMenus.Bootstrap.keydownFix&&(t(document).off("keydown.bs.dropdown.data-api",".dropdown-menu"),t.fn.dropdown&&t.fn.dropdown.Constructor&&t(document).on("keydown.bs.dropdown.data-api",'.dropdown-menu:not([id^="sm-"])',t.fn.dropdown.Constructor.prototype.keydown),t.SmartMenus.Bootstrap.keydownFix=!0)}}),t(t.SmartMenus.Bootstrap.init),t});